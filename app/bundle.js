var devurl="http://localhost:8000";var produrl="https://api.event.bencleary.io";var app=angular.module("awesomeEventApp",["ngRoute"]);app.config(function($routeProvider,$locationProvider){$routeProvider.when("/",{templateUrl:"app/pages/index/index.html",controller:"rootController"}).when("/register",{templateUrl:"/app/pages/register/register.html",controller:"registerController"}).when("/speakers",{templateUrl:"/app/pages/speakers/speakers.html",controller:"speakerController"}).when("/speaker/detail/:id",{templateUrl:"/app/pages/speakers/speaker.detail.html",controller:"speakerDetailController"}).when("/agenda",{templateUrl:"/app/pages/agenda/agenda.html",controller:"agendaController"}).when("/venue",{templateUrl:"/app/pages/venue/venue.html",controller:"venueController"});$locationProvider.html5Mode(true)});app.service("registered",function(){this.message="";this.welcomeBar=false;this.check=function(message){if(localStorage.getItem("registered")=="true"){this.welcomeBar=true;this.message=message+localStorage.getItem("attendee_name")}}});app.controller("rootController",function($scope,registered){registered.check("Welcome, ");$scope.message=registered.message;$scope.welcomeBar=registered.welcomeBar});app.controller("registerController",function($scope,registered){registered.check("Thanks for registering, ");$scope.registered=registered.welcomeBar;$scope.message=registered.message});app.controller("speakerController",function($scope,$http){$http.get("http://localhost:8000/api/speakers/").then(function(response){$scope.speakerList=response.data})});app.controller("speakerDetailController",function($routeParams,$scope,$http){$http.get(devurl+"/api/speaker/"+$routeParams.id+"/details/").then(function(response){$scope.profile=response.data})});app.controller("agendaController",function($scope,$http){$http.get("http://localhost:8000/api/sessions/").then(function(response){$scope.agenda=response.data;console.log($scope.agenda)})});app.controller("venueController",function($scope,$http){$http.get(devurl+"/api/venue/details/").then(function(response){$scope.venue=response.data})});app.component("agendaItems",{bindings:{agenda:"="},templateUrl:"/app/components/agenda/agenda.layout.html"});app.component("menuBar",{bindings:{brand:"<"},templateUrl:"/app/components/navbar/navbarlayout.html",controller:function(){this.menu=[{name:"Home",url:"/",icon:"fa-home"},{name:"Register",url:"/register",icon:"fa-user-plus"},{name:"Speakers",url:"/speakers",icon:"fa-users"},{name:"Agenda",url:"/agenda",icon:"fa-clock-o"},{name:"Attendees",url:"?attendees&dev=true",icon:"fa-users"},{name:"Veune",url:"/venue",icon:"fa-map-pin"},{name:"profile",url:"/profile",icon:"fa-user-circle"}];this.hideMenu=function(){$("body").find(".side-menu").removeClass("open");$("body").find(".side-menu").animate({left:"-200"},100)}}});app.component("speakerBox",{bindings:{speakers:"="},templateUrl:"/app/components/speaker/speakerlayout.html"});